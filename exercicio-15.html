<html lang="pt-br">
    <head>
        <meta charset="utf-8">
        <title>Exercicio 15</title>
    </head>
    <body>
        <p>15 - Escreva um código que atenda os sequintes requisitos:
          Possua um objeto cliente, com as propriedades nome, sexo, data de nascimento, e endereço (sendo um objeto com as propriedades cep,
          logradouro, número, complemento, bairro, cidade, estado). Deve possuir um método que alerte todas as informações do cliente.
          Possua um objeto produto com as propriedades titulo, descrição e valor. Deve possuir um método que alerte seu nome e valor.
          Possua um objeto venda com as propriedades data, cliente, produtos, desconto e acréscimo. Deve existir um método que receba um
          objeto cliente e adicione-o a propriedade cliente. Deve ser possível adicionar n produtos, através de um método, que receba um
          objeto produto e uma quantidade, e adicione-os na propriedade produtos. Deve existir um método que retorne o um objeto com as
          propriedades valor dos produtos, e valor total, sendo este, a soma dos valores produtos vezes a quantidade, menos o desconto, mais o acréscimo.</p>

        <script>

            var cliente = {
              nome:"",
              sexo:"",
              dataNascimento:"",
              endereco: {
                cep:"",
                logradouro:"",
                numero:0,
                complemento:"",
                bairro:"",
                cidade:"",
                estado:""
              },
              alertaInformacoesDoCliente:function(){
                alert( "Nome: "               + this.nome                 +
                     "\nSexo: "               + this.sexo                 +
                     "\nData de Nascimento: " + this.dataNascimento       +
                     "\nCep: "                + this.endereco.cep         +
                     "\nRua: "                + this.endereco.logradouro  +
                     "\nNúmero: "             + this.endereco.numero      +
                     "\nComplemento: "        + this.endereco.complemento +
                     "\nBairro: "             + this.endereco.bairro      +
                     "\nCidade: "             + this.endereco.cidade      +
                     "\nEstado: "             + this.endereco.estado      );
              }
            }

            var produto = {
              titulo:"",
              descricao:"",
              valor:"",
              alertaInformacoesDoProduto:function(){
                alert( "Nome: "     + this.titulo +
                     "\nValor: R$ " + this.valor  );
              }
            }

            var venda = {
              data:"",
              cliente:cliente,
              produtos: {
                quantidade:0,
                produto:produto
              },
              desconto:0,
              acrescimo:0,
              adicionaCliente:function( cliente ){
                this.cliente = cliente;
              },
              adicionaProduto:function( produto, quantidade ){
                this.produtos.quantidade = quantidade;
                this.produtos.produto    = produto;
              },
              retornaValores:function(){
                var valor = {
                  valorProduto:0,
                  valorTotal:0
                };
                valor.valorProduto = this.produtos.quantidade * this.produtos.produto.valor;
                valor.valorTotal   = valor.valorProduto - this.desconto + this.acrescimo;
                return valor;
              }
            }

            //--------abaixo somente para teste

            cliente.nome = "Gustavo";
            cliente.sexo = "M";
            cliente.dataNascimento = "25/01/1991";
            cliente.endereco.cep = "87005-220";
            cliente.endereco.logradouro = "jose pereira";
            cliente.endereco.numero = 89;
            cliente.endereco.complemento = "casa xx";
            cliente.endereco.bairro = "Vila Marumby";
            cliente.endereco.cidade = "Maringá";
            cliente.endereco.estado = "PR";

            produto.titulo = "Abacaxi";
            produto.descricao = "Abacaxi Perola";
            produto.valor = 9.99;

            venda.adicionaCliente( cliente );
            venda.adicionaProduto( produto, 5 );
            venda.acrescimo = 10;
            venda.desconto = 5;

            var valores = venda.retornaValores();

            cliente.alertaInformacoesDoCliente();
            produto.alertaInformacoesDoProduto();

            console.log( venda );
            console.log( valores );



        </script>

    </body>
</html>
